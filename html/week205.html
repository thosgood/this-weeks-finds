<TITLE> week205 </TITLE>





<P>
This week I'd like to say more about number theory, but first - 
here's the most fun book on astronomy I've ever seen:

<P>
1) James B. Kaler, The Hundred Greatest Stars, Copernicus Books
(Springer Verlag), New York, 2002.

<P>
It's just what the title says: a compilation of the author's 100
favorite stars, each with a picture and a one-page description of what 
makes that star interesting.  They're incredibly diverse, from the 
mammoth Eta Carinae to tiny brown dwarf Gliese 229B.  You'll see soft 
gamma repeaters, yellow hypergiants, pulsars, Mira-type variables, 
barium stars, symbiotic stars, and more.  There's also an introduction 
that explains the concepts needed to enjoy all these different kinds of 
stars, like the Hertzsprung-Russell diagram and a bit of nuclear physics.  
With the help of this, the whole book forms a wonderful taxonomy of 
stellar astrophysics.  I suggest keeping it by your bed and reading one 
star a night - though you may wind up staying up late and devouring the 
whole book.

<P>
On to number theory....

<P>
There's a widespread impression that number theory is about <em>numbers</em>, 
but I'd like to correct this, or at least supplement it.  A large part 
of number theory - and by the far the coolest part, in my opinion - is 
about a strange sort of <em>geometry</em>.  I don't understand it very well, 
but that won't prevent me from taking a crack at trying to explain it....

<P>
The basic idea is to push the analogy between integers and polynomials 
as far as it will go.  They're similar because you can add, subtract and
multiply them, and these operations satisfy the usual rules we all 
learned in high school:

<PRE>
x + y = y + x     (x + y) + z = x + (y + z)   x + 0 = x   x + (-x) = 0

xy = yx           (xy)z = x(yz)               x1 = x

x(y + z) = xy + xz
</PRE>

Anything satisfying these rules is called a &quot;commutative ring&quot;.
There are also a lot of deeper similarities between integers and
polynomials, which I'll talk about later.  But, there's a big difference!  
Polynomials are functions on the line, whereas the integers aren't 
functions on some space - at least, not in any instantly obvious way.  

<P>
The fact that polynomials are functions on a space is what lets us 
graph them.  This lets us think about them using <em>geometry</em> - and also 
think about geometry using <em>them</em>.  This was the idea behind Descartes'
&quot;analytic geometry&quot;, and it was immensely fruitful.

<P>
So, it would be cool if we could also think about the integers using 
geometry.  And it turns out we can, but only if we stretch our concept 
of geometry far enough!  

<P>
If we do this, we'll see some cool things.  First of all, we'll see 
that algebra is just like geometry, only backwards.  

<P>
What do I mean by this?  Well, whenever you have a map T: X &rarr; Y going 
from the space X to the space Y, you can use it to take functions on Y 
and turn them into functions on X.  Since this goes backwards, it's 
called &quot;pulling back along T&quot;.  Here's how it goes: if f is a function 
on Y, we get a function T*(f) on X given by:

<PRE>
T*(f)(x) = f(T(x))
</PRE>

Moreover, functions on a space form a commutative ring, since you can 
add and multiply them pointwise, and pulling back is a &quot;homomorphism&quot;, 
meaning that it preserves all the structure of a commutative ring:

<PRE>
T*(f + g) = T*(f) + T*(g)                T*(0) = 0
T*(fg) = T*(f) T*(g)                     T*(1) = 1
</PRE>

Conversely, any sufficiently nice homomorphism from functions on Y to 
functions on X will come from some map T: X &rarr; Y this way!  Here I'm
summarizing a whole bunch of different theorems, each of which goes 
along with its own precise definition of &quot;space&quot;, &quot;map&quot;, and &quot;nice&quot;.  

<P>
Some of these theorems are technical, but the basic idea is simple: 
we can translate back and forth between the study of commutative rings 
(algebra) and the study of spaces (geometry) and by thinking of 
commutative rings as consisting of functions on spaces.  We get a little 
dictionary for translating between geometry and algebra, like this:

<PRE>
                  GEOMETRY           ALGEBRA
                  spaces             commutative rings
                  maps               homomorphisms
</PRE>
But be careful: this translation turns maps into homomorphisms going
backwards: it's &quot;contravariant&quot;.  This is really important in two 
ways. 
First, suppose we have a point x in a space X.  This gives a map

<PRE>
i: {x} &rarr; X
</PRE>
This, in turn, gives a homomorphism i* sending functions on X to 
functions on {x}.  Functions on a one-point space are like numbers, 
so i* acts like &quot;evaluation at x&quot;.   Moreover, i* will tend to be 
onto: that's the backwards analogue of the fact that i is one-to-one!

<P>
Second, suppose we have a map from a space E onto the space X: 

<PRE>
p: E &rarr; X.
</PRE>
If you know some topology, think of E as a &quot;covering space&quot; of X.  
Then 
we get a homomorphism p* from functions on X to functions on E.  Moreover
p* will tend to be one-to-one: that's the backwards version of the fact 
that p was onto!

<P>
We can use these examples to figure out the analogue of a &quot;point&quot; or a 
&quot;covering space&quot; in the world of commutative rings!  And the resulting
ideas turn out to be crucial to modern number theory.  

<P>
In &quot;<A HREF = "week199.html">week199</A>&quot; I explained the analogue of a &quot;point&quot; for commutative rings: 
it's a &quot;prime ideal&quot;.  So, now I want to explain the analogue of a
&quot;covering space&quot;.  This will expand our dictionary so that it relates 
Galois groups to fundamental groups of topological spaces... and so on.  

<P>
But, we won't get too far if we don't remember why a &quot;prime ideal&quot; is
like a &quot;point&quot;!  So, I guess I'd better review some of &quot;<A HREF = "week199.html">week199</A>&quot; before 
charging ahead into the beautiful wilderness.

<P>
What's special about the ring of functions on a space consisting of 
just one point?   Take real- or complex-valued functions, for example.
How do these differ from the functions on a space with lots of points?

<P>
The answer is pretty simple: on a space with just one point, a function
that vanishes anywhere vanishes everywhere!  So, the only function
that fails to have a multiplicative inverse is 0.  For bigger spaces,
this isn't true.

<P>
A commutative ring where only 0 fails to have a multiplicative inverse
is called a &quot;field&quot;.  So, the algebraic analogue of a one-point 
space is a field. 

<P>
This means that the algebraic analogue of a map from a one-point
space into some other space:

<PRE>
i: {x} &rarr; X
</PRE>
should be a homomorphism from a commutative ring R to a field k:

<PRE>
f: R &rarr; k
</PRE>

<P>
Our translation dictionary now looks like this:

<PRE>
         GEOMETRY                     ALGEBRA
         spaces                       commutative rings
         maps                         homomorphisms
         one-point spaces             fields
         maps from one-point spaces   homomorphisms to fields
</PRE>
It's worth noting some subtleties here.  In the geometry we learned in 
high school, once we see one point, we've seen 'em all: all one-point 
spaces are isomorphic.  But not all fields are isomorphic!  So, if 
we're trying to think of algebra as geometry, it's a funny sort of 
geometry where points come in different flavors!  

<P>
Moreover, there are homomorphisms between different fields.  These
act like &quot;flavor changing&quot; maps - maps from a point of one flavor
to a point of some other flavor.

<P>
If we have a homomorphism f: R &rarr; k and a homomorphism from k to some 
other field k', we can compose them to get a homomorphism f ': R &rarr; k'.  
So, we're doing some funny sort of geometry where if we have a point 
mapped into our space, we can convert it into a point of some other 
flavor, using a &quot;flavor changing&quot; map.  

<P>
Now let's take this strange sort of geometry really seriously, and
figure out how to actually turn a commutative ring into a space! 
First I'll describe what people usually do.  Eventually I'll describe
what perhaps they really should do - but maybe you can guess before 
I even tell you.  

<P>
People usually cook up a space called the &quot;spectrum&quot; of the 
commutative
ring R, or Spec(R) for short.  What are the points of Spec(R)?
They're not just all possible homomorphisms from R to all possible 
fields.  Instead, we count two such homomorphisms as the same 
point of Spec(R) if they're related by a &quot;flavor changing process&quot;.  
In other words, f ': R &rarr; k' gives the same point as f: R &rarr; k if you 
can get f ' by composing f with a homomorphism from k to k'.  

<P>
This is a bit ungainly, but luckily there's a quick and easy way to tell 
when f: R &rarr; k and f ': R &rarr; k' are related by such a flavor changing 
process, or a sequence of such processes.  You just see if they have
the same kernel!  The &quot;kernel&quot; of f: R &rarr; k is the subset of R 
consisting of elements r with 

<PRE>
f(r) = 0
</PRE>
The kernel of a homomorphism to a field is a &quot;prime ideal&quot;, and two
homomorphisms are related by a sequence of flavor changing processes
iff they have the same kernel.  Furthermore, every prime ideal is
the kernel of a homomorphism to some field.  So, we can save time by
defining Spec(R) to be the set of prime ideals in R.  

<P>
For completeness I should remind you what a prime ideal is!  An 
&quot;ideal&quot; 
in a ring R is a set closed under addition and closed under multiplication 
by anything in R.  It's &quot;prime&quot; if it's not all of R, and whenever 
the product of two elements of R lies in the ideal, at least one of them 
lies in the ideal.  

<P>
So, we have something like this:

<PRE>
        GEOMETRY                     ALGEBRA
        spaces                       commutative rings
        maps                         homomorphisms
        one-point spaces             fields
        maps from one-point spaces   homomorphisms to fields
        points of a space            prime ideals of a commutative ring
</PRE>
Now let's use these ideas to study &quot;branched covering spaces&quot; and 
their analogues in algebra.  This week I'll talk about two examples.  The first
is very geometrical, and it should be familiar to anyone who has studied 
a little complex analysis.   The second is more algebraic, and it's 
important in number theory.  But, the cool part is that they fit into 
the same formalism!

<P>
If you don't know what a branched covering space is, don't worry:
we'll start with the very simplest example.  We'll look at this map from 
the complex plane to itself:

<PRE>
p: C &rarr; C

p(z) = z<sup>2</sup>
</PRE>
Except for zero, every complex number has two square roots, so this map 
is two-to-one and onto away from the origin.  In fact, away from the 
origin you can visualize this thing locally as two sheets of paper 
sitting above one.  But these two sheets have a global complication: if 
you start on the top sheet and hike once around the origin, you wind up 
on the bottom sheet - and vice versa!  In topology we call this sort of 
thing a &quot;double cover&quot;.  When we include the point z = 0 things get 
even more complicated, since the two sheets meet there.  So we have 
something trickier: a &quot;branched cover&quot;. In general, a branched cover 
is like a covering space except that the different &quot;sheets&quot; can merge
together at certain points, called &quot;branch points&quot;. 

<P>
Now let's think about this algebraically.  To keep from getting confused,
let's write 

<P>
<pre>
z<sup>2</sup> = w
</pre>

<P>
so that p is a map from the &quot;z plane&quot; down to the &quot;w plane&quot;, sending each 
point z to the point z<sup>2</sup> = w.  The ring of polynomial 
functions on the z
plane is called C[z]; the ring of polynomial functions on the w plane is
called C[w].  We can pull functions from the w plane back up to the z 
plane:

<P>
<pre>
p*: C[w] &rarr; C[z]
</pre>

<P>
and p* works in the obvious way, taking any 
function f(w) to the function f(z<sup>2</sup>).

<P>
Just as p is onto, p* is one-to-one!  So, we can think of C[w] as 
sitting inside C[z], consisting of those polynomials in z that only 
depend on z<sup>2</sup>: the even functions.  We say C[w] 
is a &quot;subring&quot; of C[z], 
or equivalently, that C[z] is an &quot;extension&quot; of C[w].   

<P>
In this example we can get the bigger ring from the smaller one by 
throwing in solutions of some polynomial equations, so we call it an 
&quot;algebraic extension&quot;.  We've already seen some algebraic extensions,
namely algebraic number fields, where take the field of rational numbers
and throw in some solutions of polynomial equations.  Algebraic extensions 
can be complicated, but this one is really simple: we just start with 
C[w] and throw in the solution of <em>one</em> polynomial equation, namely

<PRE>
z<sup>2</sup> = w
</PRE>

It turns out that quite generally, algebraic extensions of commutative
rings act a lot like branched covering spaces.  I probably don't have 
the technical details perfectly straight, but let's add this to our
translation dictionary, because it's an important idea:

<PRE>
  GEOMETRY                     ALGEBRA
  spaces                       commutative rings
  maps                         homomorphisms
  one-point spaces             fields
  maps from one-point spaces   homomorphisms to fields
  points of a space            prime ideals of a commutative ring
  branched covering spaces     algebraic extensions of commutative rings

</PRE>
Now let's have some fun: let's see how our algebraic concept 
of &quot;point&quot;,
namely &quot;prime ideal&quot;, interacts with our branched double cover of the 
complex plane.   There's something straightforward going on, but also 
something more subtle and interesting.

<P>
The straightforward thing is that any point up on the z plane maps to one 
down on the w plane.  We don't need fancy algebra to see this!  But, it's
worth doing algebraically.  According to the fancy algebraic definition,
a &quot;point&quot; in the spectrum of the commutative ring C[z] is a prime 
ideal.  But as you might hope, these are the same as good old-fashioned points 
in the complex plane! 

<P>
It works like this: given any point x in C, we get a homomorphism from 
C[z] to C called &quot;evaluation at x&quot;, which sends any polynomial f to 
the number f(x).  The kernel of this is the prime ideal consisting of 
all polynomials that vanish at x.  These are just the polynomials 
containing a factor of z - x, so we call this ideal 

<PRE>
&lt;z - x&gt; 
</PRE>

So, we get some prime ideals in C[z] from points of C this way.  But in 
fact there's a theorem that <em>every</em> 
prime ideal in C[z] is of this form!  
So, we get a one-to-one correspondence

<PRE>
Spec(C[z]) = C
</PRE>
Similarly, 

<PRE>
Spec(C[w]) = C
</PRE>

Now let's think about our branched cover 

<PRE>
p: C &rarr; C
</PRE>

in different ways.  It starts out life as a map from the z plane down 
to the w plane.   We can use this to pull back functions on the w 
plane up to the z plane:

<P>
<pre>
p*: C[w] &rarr; C[z]
</pre>

<P>
But then, by general abstract baloney, the inverse image under p* of 
any prime ideal in C[z] is a prime ideal back in C[w].  This gives a 
map from Spec(C[z]) to Spec(C[w]).  But this is just a map from the z 
plane to the w plane!  And it's the same map p we started with.  If you
don't see why, it's a good exercise to check this.

<P>
So: we translated from geometry to algebra and back to geometry, and 
we got right back where we started.   Note that each time we translated,
our description of the map p got turned around backwards.

<P>
But there's a subtler and more interesting thing we can do with our
branched cover.  We can take a point down on the w plane and look at 
the points up on the z plane that map down to it!  

<P>
Usually there will be two, but for the origin there's just one.  This 
much is clear from thinking geometrically.  But if we think algebraically, 
we'll see something funny going on at the origin.   We can already see 
it geometrically: the origin is where the two sheets of our branched 
cover meet, so we call it a &quot;branch point&quot;.  But the algebraic 
viewpoint sheds an interesting new light on this.  

<P>
What we'll do is take a prime ideal in C[w] and push it forwards via

<PRE>
p*: C[w] &rarr; C[z]
</PRE>
The resulting subset won't be an ideal, but it will &quot;generate&quot; an 
ideal, meaning we can take the smallest ideal containing it.  This
ideal won't be prime, but we can &quot;factor&quot; it into prime 
ideals: there's
a fairly obvious way to multiply ideals, and we happen to be working
with rings where there's a unique way to factor any ideal into prime
ideals.

<P>
Let's try it.  First pick a number x that's not zero.  It gives a prime 
ideal in C[w], namely 

<PRE>
&lt;w - x&gt;
</PRE>
Next push this ideal forwards via p* and let it generate an
ideal in C[z], namely

<PRE>
&lt;z<sup>2</sup> - x&gt;
</PRE>
This is not prime, but we can factor it, which in this case simply 
amounts to factoring the polynomial that generates it:

<PRE>
&lt;z<sup>2</sup> - x&gt; = &lt;(z - sqrt(x)) (z + sqrt(x))&gt; 

         =  &lt;z - sqrt(x)&gt; &lt;z + sqrt(x)&gt;
</PRE>
We get a product of two prime ideals, corresponding to two points in 
the z plane, namely +sqrt(x) and -sqrt(x).  These are the two points
that map down to x.

<P>
In this sort of situation, we say the prime ideal &lt;w - x&gt; 
&quot;splits&quot;
into the prime ideals &lt;z - sqrt(x)&gt; and &lt;z + sqrt(x)&gt; when 
we go from
C[w] to the extension C[z].  This is just an overeducated way of saying
the number x has two different square roots.

<P>
But suppose x = 0.  This doesn't have two square roots!  Everything
works the same except we get

<PRE>
&lt;z<sup>2</sup>&gt; = &lt;z&gt; &lt;z&gt;
</PRE>
We say the prime ideal &lt;w&gt; &quot;ramifies&quot; when we go 
from C[w] to the 
extension C[z].  We still get a product of prime ideals; they just happen 
to be the same.  This is a way of making sense of the funny notion that 
the number 0 has two square roots... which just happen to be the same!  
Lots of mathematicians and physicists talk about &quot;repeated roots&quot;
when 
an equation has &quot;two solutions that just happen to be equal&quot;.  
This is just a way of making that precise.

<P>
But all this algebraic machinery must seem like overkill if this is the 
first time you've seen it.  It pays off when we get to more algebraic 
examples.  So, let me sketch the simplest one.

<P>
Let Z be the ring of integers, and let Z[i] be the ring of Gaussian 
integers, namely numbers of the form a+bi where a and b are integers.  
Z[i] is an algebraic extension of Z, since we can get it by throwing in 
a solution z of the polynomial equation

<PRE>
z<sup>2</sup> = -1
</PRE>

This equation is quadratic, just like it was in the example we just
did!  Now we're throwing in a square root of -1 instead of a square 
root of some function on the complex plane.  But if we take the analogy 
between geometry and algebra seriously, this extension should still give
some sort of &quot;branched double cover&quot;

<PRE>
p: Spec(Z[i]) &rarr; Spec(Z)
</PRE>

What's this like?  

<P>
It's actually really interesting, but I'll just <em>sketch</em> how it works.

<P>
The points of Spec(Z) are prime ideals in Z.  In &quot;<A HREF = "week199.html">week199</A>&quot; we saw 
that except for the prime ideal &lt;0&gt;, these are generated by prime 
numbers.
  
<P>
Similarly, except for &lt;0&gt;, the prime ideals in Z[i] are generated by 
&quot;Gaussian primes&quot;: Gaussian numbers that have no factors except 
themselves and the &quot;units&quot; 1, -1, i and -i.  (A &quot;unit&quot; 
in a ring is an 
element with a multiplicative inverse; we don't count units as primes.)

<P>
The map p sends each Gaussian prime to a prime, and it's fun to work
out how this goes... but it's even more fun to work backwards!  Let's
take primes in the integers and see what happens when we let them 
generate ideals in the Gaussian integers!  This is like taking points 
in the base space of a branched cover and seeing what's sitting up  
above them.    

<P>
For example, the prime 5 &quot;splits&quot;.  It has two prime factors in the
Gaussian integers:

<PRE>
5 = (2 + i)(2 - i)
</PRE>
so in Z[i] the ideal it generates is a product of two prime ideals:

<PRE>
&lt;5&gt; = &lt;2 + i&gt; &lt;2 - i&gt;
</PRE>

This means that two different points in Spec(Z[i]) map down to the
point &lt;5&gt; in Spec(Z), namely &lt;2 + i&gt; and &lt;2 - i&gt;.  
So we indeed have
something like a double cover!

<P>
On the other hand, the prime 2 &quot;ramifies&quot;.  It has two prime 
factors in the Gaussian integers:

<PRE>
2 = (1 + i)(1 - i)
</PRE>
but these two Gaussian primes generate the same prime ideal:

<PRE>
&lt;1 + i&gt; = &lt;1 - i&gt;
</PRE>

since if we multiply 1+i by the unit -i we get 1-i.  So, in the 
Gaussian integers we have

<PRE>
&lt;2&gt; = &lt;1 + i&gt; &lt;1 + i&gt;
</PRE>

A repeated factor!  This is just what happened to the branch point in 
our previous example: it had &quot;two points sitting over it, which happen 
to be the same&quot;.  

<P>
So far, everything seems to be working nicely.  But, besides splitting 
and ramification, there's a third thing that happens here, which didn't 
happen in our example involving the complex plane.  In fact, this third 
option never happens when we're doing algebraic geometry over the complex 
numbers!  

<P>
Here's how it works.  Consider the prime 3.  This is still prime in the
Gaussian integers!  It doesn't split, and it doesn't ramify.  If we
factorize the ideal generated by 3 in Z[i] we just get

<PRE>
&lt;3&gt; = &lt;3&gt;
</PRE>

It doesn't do anything - it just sits there!
So, we say this prime is &quot;inert&quot;.

<P>
This may seem boring, but it's actually mysterious - and downright 
MADDENING if we take the analogy between geometry and algebra seriously.
It's weird enough to have a &quot;branched&quot; cover where sheets merge at 
certain points, but at least in that case we can <em>see</em> they've merged:
a prime ideal in our subring generates an ideal in the extension that's 
not prime, but is a product of several prime factors, some of which 
happen to be the same.  But when a prime ideal in our subring generates 
a <em>prime</em>
ideal in the extension, it's as if our &quot;cover&quot; has just <em>one</em>
sheet over this point in the base space!   And if this happens for a 
quadratic extension - as it just did - something seems to have gone 
horribly wrong with the nice idea that &quot;quadratic extensions are like 
branched double covers&quot;.

<P>
Luckily, this puzzle has a nice resolution.  We shouldn't have
decategorified!  When we started discussing &quot;points&quot; for a commutative
ring, we saw they form a category in a nice way: there are points of
different &quot;flavors&quot;, with &quot;flavor-changing operations&quot; going between
them.  Then we freaked out and turned this category into a set by
decreeing that two point are the same whenever there's a morphism 
between them.  If we hadn't done this, we'd have seen more clearly how 
&quot;inert&quot; primes fit into a nice pattern along with &quot;split&quot; and &quot;ramified&quot; 
ones. 

<P>
I'll probably talk about this more sometime, and also look more carefully
at what happens to all the different primes when we go to the Gaussian
integers - to show you that we are, indeed, doing number theory!

<P>
But for now, I just want to make a few comments about this idea of 
points of different &quot;flavors&quot;.  

<P>
In fact Grothendieck proposed an even more general idea of this sort in
his second approach to &quot;schemes&quot;, which is simpler but much less widely
discussed than his first approach.  Basically, he said that given a
commutative ring R, we should not only consider points that are  
homomorphisms from R to any <em>field</em>, but also to any
<em>commutative ring</em>.
For each commutative ring k we get a set consisting of 
all &quot;k-points&quot;
of R, namely homomorphisms 

<PRE>
f: R &rarr; k
</PRE>
And, for each homomorphism g: k &rarr; k' we get a &quot;flavor changing
operation&quot; that sends k-points to k'-points.  So, we get a functor
from CommRing to Set!  He called such a functor a &quot;scheme&quot;.  We can 
get schemes from commutative rings as just described - these are called
&quot;affine schemes&quot; - but there are also others, for example those 
coming from projective varieties.  

<P>
Anyway, here are some places to read more about number theory... mostly 
with an emphasis on the geometric viewpoint and the issue of &quot;splitting,
ramification and inertia&quot;.

<P>
For a really quick and friendly no-nonsense introduction, try this:

<P>
2) Harold M. Stark, Galois Theory, Algebraic Number Theory, and Zeta
Function, in From Number Theory to Physics, eds. M. Waldschmit et al, 
Springer, Berlin, 1992, pp. 313-393.

<P>
To dig a lot deeper, try this book by Neukirch:

<P>
3) Juergen Neukirch, Algebraic Number Theory, trans. Norbert 
Schappacher, Springer, Berlin, 1986. 

<P>
I already mentioned it, but it's worth mentioning again, because it's 
pretty elementary, and very clear on the analogy between &quot;function 
fields&quot; (fields of functions on Riemann surfaces) and &quot;number 
fields&quot; (algebraic number fields).  

<P>
This book by Borevich and Shafarevich doesn't make the analogy to 
geometry explicit:

<P>
4) Z. I. Borevich and I. R. Shafarevich, Number Theory, trans.
Newcomb Greenleaf, Academic Press, New York, 1966.

<P>
However, it has a nice concept of a &quot;theory of divisors&quot; for a 
commutative ring - and if you know a bit about divisors from algebraic 
geometry, you'll see that this is <em>secretly</em> very geometrical!  They
show how to classify algebraic extensions of commutative rings using 
a theory of divisors, and show how to get a theory of divisors using 
&quot;valuations&quot;.  This manages to accomplish a lot of what other 
texts do 
using &quot;adeles&quot;, without actually mentioning adeles.  I find this 
instructive. 

<P>
This book goes much further in the geometric direction, but still
without introducing schemes:

<P>
5) Dino Lorenzini, An Invitation to Arithmetic Geometry, 
American Mathematical Society, Providence, Rhode Island, 1996.

<P>
It's really great - very pedagogical!  It develops number fields and
function fields in parallel.  You'll need to be pretty comfy with 
commutative algebra to work all the way through it, though.

<P>
If you want to learn about schemes - not the kind I just talked about,
just the usual sort, which still includes cool &quot;spaces&quot; like 
Spec(Z) - 
try these:

<P>
6) V. I. Danilov, V. V. Shokurov, and I. Shafarevich, Algebraic Curves, 
Algebraic Manifolds and Schemes, Springer, Berlin, 1998.  

<P>
7) David Eisenbud and Joe Harris, The Geometry of Schemes, Springer,
Berlin, 2000.

<P>
Schemes have a reputation for being scary, but both these books try hard
to make them less so, including lots of actual <em>pictures</em> of things like
Spec(Z[i]) sitting over Spec(Z).

<P>
To wrap things up, I just want to mention two papers on subjects I'm 
fond of....

<P>
In &quot;<A HREF = "week172.html">week172</A>&quot; I discussed Tarski's &quot;high school algebra problem&quot;.
This asks whether every identity involving 1, +, x, and exponentials 
that holds in the positive natural numbers follows from the eleven
we learned in high school:

<PRE>
x + y = y + x        (x + y) + z = x + (y + z) 

xy = yx              (xy)z = x(yz)

1x = x

x<sup>1</sup> = x               1<sup>x</sup> = 1

x(y + z) = xy + xz 

x<sup>(y + z)</sup> = x<sup>y</sup> x<sup>z</sup>      (xy)<sup>z</sup> = x<sup>z</sup> y<sup>z</sup>       x<sup>yz</sup> = (x<sup>y</sup>)<sup>z</sup> 
</PRE>

The rules of this game allow only purely equational reasoning - not 
stuff like mathematical induction.  The reason is that this is secretly 
a problem about &quot;universal algebra&quot; or &quot;algebraic theories&quot;, as 
explained in &quot;<A HREF = "week200.html">week200</A>&quot;.

<P>
It turns out the answer is <em>no!</em>  In fact there are infinitely many 
more independent identities!  Here is the first one, due to Wilkies:

<PRE>
[(x + 1)<sup>x</sup> + (x<sup>2</sup> + x + 1)<sup>x</sup>]<sup>y</sup>  [(x<sup>3</sup> + 1)<sup>y</sup> + (x<sup>4</sup> + x<sup>2</sup> + 1)<sup>y</sup>]<sup>x</sup>  =
[(x + 1)<sup>y</sup> + (x<sup>2</sup> + x + 1)<sup>y</sup>]<sup>x</sup>  [(x<sup>3</sup>  + 1)<sup>x</sup> + (x<sup>4</sup> + x<sup>2</sup> + 1)<sup>x</sup>]<sup>y</sup> 
</PRE>

I just found a paper, apparently written 
after &quot;<A HREF = "week172.html">week172</A>&quot;, which gives
a very detailed account of this problem:

<P>
8) Stanley Burris and Karen Yeats, The saga of the high school
identities, available at
<A HREF = "http://web.archive.org/web/20070212200835/http://www.math.uwaterloo.ca/~snburris/htdocs/MYWORKS/PREPRINTS/saga.ps">
http://web.archive.org/web/20070212200835/http://www.math.uwaterloo.ca/~snburris/htdocs/MYWORKS/PREPRINTS/saga.ps</a>

<P>
It includes some new results, like the smallest known algebraic
gadget satisfying all the high school identities but not Wilkies'
identity - but also more interesting things that are a bit harder to
describe.

<P>
Also, here's a cool paper relating some of Ramanujan's work to 
string theory:

<P>
9) Antun Milas, Ramanujan's &quot;Lost Notebook&quot; and the Virasoro Algebra,
available as <A HREF = "http://www.arXiv.org/abs/math.QA/0309201">
math.QA/0309201</A>.

<P>
A <em>lot</em> of 
Ramanujan's weird identities turn out to be related to concepts
from string theory, suggesting that he was born about a century too soon
to be fully appreciated... but this paper tackles an identity of his that
nobody had managed to explain using string theory before.

<P>
<HR>
<P>
<b>Addendum:</b> 
Here's something a friend of mine wrote, and an expanded version
of my reply.

<blockquote>
By the way, I very much liked your explanation of points and prime
ideals.  Up until now I haven't seen a satisfactory explanation of why
points correspond to <em>prime</em> rather than <em>maximal</em> ideals, and
although I haven't completely digested what you wrote, it looks
like it might do the job...
</blockquote>

Both here and in my discussion of spectra in "week199", I've been
avoiding saying the things people usually say.   People usually note
that a maximal ideal is the same as the kernel of a homomorphism 
ONTO a field, while a prime ideal is the same as the kernel of a 
homomorphism ONTO an integral domain.   (Recall that an integral 
domain is a commutative ring where xy = 0 implies that x or y is 
zero.)   If we define the "points" of a commutative ring R to be 
its maximal or prime ideals, we can therefore think of these as 
the kernels of homomorphisms from R onto fields or integral domains.  

<P>
However, defining points in terms of homomorphisms ONTO a given 
sort of commutative ring is rather irksome, because it doesn't 
tell us how points transform under homomorphisms of commutative 
rings, nor how they transform under the "flavor-changing operations" 
I was describing.  The problem is that the composite of a homomorphism 
with an onto homomorphism needn't be onto!

<P>
So, what really matters is that a prime ideal is the same as the 
kernel of a homomorphism TO a field.  To see how this follows from 
the usual story, note that any integral domain is contained in a 
field called its "field of fractions" - just as Z is contained in Q.  
Any homomorphism ONTO the integral domain thus becomes a homomorphism 
TO this field, with the same kernel.  Conversely, any homorphism TO 
a field becomes a homomorphism ONTO its image, with the same kernel - 
and this image is always an integral domain.

<p>
Much later, in 2013, someone wrote:

<blockquote>
Dear Professor Baez,

<p>
In TWF 205 you discuss the puzzle of inert primes and indicate that
this puzzle has a nice resolution in terms of decategorification.  You
also indicated then that you may talk further about this at a later
date.  By any chance did you return to this topic and if so might you
be able to point me to the appropriate TWF (or other reference)?

<p>
My apologies for asking about a nine year old remark.
</blockquote>

I replied:

<p>
Sorry, I never wrote more about that.  I sort of forget what I was
talking about, because it comes from a time long ago when I was
discussing number theory with James Dolan, and he understood this
stuff much better than me.  But I think I can remember a bit if I
try...

<blockquote> [...] you discuss the puzzle of inert primes and indicate
that this puzzle has a nice resolution in terms of decategorification.
</blockquote>
 
I remember that the resolution of the puzzle is to <i>refrain</i> from
decategorifying.

<p>
In Grothendieck's approach, the "k-points" of a ring R of algebraic
numbers, for various choices of field k, are homomorphisms

<p>
<pre>
R &rarr; k
</pre>

<p>
These are the objects of a category, in the manner I described, with
"flavor-changing operations" coming from homomorphisms k &rarr; k' as the
morphisms.

<p>
If we restrict our attention to the case I was talking about, where 
R = Z[i] is the Gaussian integers and k is a finite field, the "inert"
primes correspond to situations where a k-point down in Z lifts to two
different but isomorphic k-points in Z[i].  When we decategorify, as
we do in the usual approach, it looks like there's just one point in
Z[i] sitting over this point in Z.

<p>
Let me warm up by considering the prime 5, which is not inert.  The
ideal in Z generated by 5 splits into two ideals in Z[i], <2 - i> and
<2 + i>.  Correspondingly, there are two k-points

<p>
<pre>
Z[i] &rarr; F<sub>5</sub>
</pre>

<p>
one having <2 - i> as its kernel (it sends i to 2), and having <2 + i>
as its kernel (it sends i to -2).  These k-points are not isomorphic.

<p>
On the other hand, 3 is inert.  The ideal in Z generated by 3 does not
split in Z[i].  Now we can find a field k = F<sub>9</sub> such that
Z[i] has two different k-points with the ideal <3> as kernel.  One
k-point

<p>
<pre>
Z[i] &rarr; F<sub>9</sub>
</pre>

<p>
sends i to one of the square roots of -1 in F<sub>9</sub>, the other
sends it to the other.  (We have to go up to F<sub>9</sub> since
there's no square root of -1 in F<sub>3</sub>.)  However, these two
k-points are isomorphic, since there's an automorphism of F<sub>9</sub>
interchanging its two square roots of -1.

<p>
Moral: When we work with prime ideals as points instead of
homomorphisms whose kernels are these prime ideals, it looks like
there's just one point in Spec(Z[i]) sitting over the prime ideal <3>.
But when we define points to be homomorphisms, we see Z[i] has two
isomorphic points Z[i] &rarr; F<sub>9</sub> sitting over the unique
point Z &rarr; F<sub>9</sub> whose kernel is that prime ideal.

<P>
<HR>
<em>One discovery opens another, and then another.  Everything in this
country is nested like Russian dolls.  Even a solid artifact in front
of me drew back into other levels.  Schemes within schemes.</em> - Craig
Childs, Soul of Nowhere

<P>
